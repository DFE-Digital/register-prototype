{% extends "_templates/_record-form.html" %}

{% set pageHeading = "Confirm placement details" %}

{% set backLink = referrer or ("/record/" + data.record.id) %}
{% set backText = "Back to record" %}

{% set gridColumn = 'govuk-grid-column-full' %}

{% set formAction = "./update" | addReferrer(referrer) %}

{% set pageName = "Confirm" %}

{% block formContent %}

  <h1 class="govuk-heading-l">{{pageHeading}}</h1>

  {% set placementCount = record.placement.items | length %}

  {% include "_includes/summary-cards/placements/placement-details.html" %}

  <div class="govuk-form-group">
    {{ govukButton({
      "text": "Add another placement" if placementCount > 0 else "Add a placement",
      href: recordPath + '/placements/add' | addReferrer(referrer),
      classes: "govuk-button--secondary govuk-!-margin-bottom-0"
    }) }}
  </div>

  {{ govukCheckboxes({
    fieldset: {
      legend: {
        text: "Have all placements been added?",
        classes: "govuk-fieldset__legend--s"
      }
    },
    idPrefix: "placement-section-complete",
    name: "record[placement][status]",
    items: [
      {
        value: "Complete",
        text: "Yes, all placements have been added",
        checked: checked(record.placement.status, "Complete")
      }
    ]
  }) }}

{# 
  {{ govukRadios({
    fieldset: {
      legend: {
        text: "Have all placement details been added for the duration of the course?",
        classes: "govuk-fieldset__legend--s"
      }
    },
    items: [
      {
        value: "Incomplete",
        text: "Not yet, I will finalise them later"
      },
      {
        value: "Complete",
        text: "Yes, all placements for the course have been added"
      }
    ]
  } | decorateAttributes(record, "record.placement.status")) }} #}

  {{ govukButton({
    text: "Continue"
  }) }}

{% endblock %}
