{% extends "_templates/_new-record.html" %}

{% set pageHeading = "Overview" if not data.record.id else (data.record.personalDetails | getShortName) %}

{% set hideReturnLink = true %}
{% set backLink = '/records' %}
{% set backText = "All records" %}


{% block formContent %}

<span class="govuk-caption-l">{{'New record' if not record.id else 'Draft record'}}</span>
<h1 class="govuk-heading-l">{{pageHeading}}</h1>

{{ appTaskList({
  classes: "govuk-!-margin-bottom-8",
  items: [{
    text: "Record type",
    href: "hi",
    id: "application-type",
    tag: {
      classes: 'Completed' | getStatusClass,
      text: 'Completed'
    }
  }]
}) if not closed }}

<h2 class="govuk-heading-m">Candidate details</h2>
{{ appTaskList({
  classes: "govuk-!-margin-bottom-8",
  items: [{
    text: "Personal details",
    href: "personal-details" | reviewIfInProgress(record.personalDetails),
    id: "personal-details",
    tag: {
      classes: record.personalDetails | getStatusText | getStatusClass,
      text: record.personalDetails | getStatusText
    }
  },
  {
    text: "Contact details",
    href: "contact-details" | reviewIfInProgress(record.contactDetails),
    id: "contact-details",
    tag: {
      classes: record.contactDetails | getStatusText | getStatusClass,
      text: record.contactDetails | getStatusText
    }
  },
  {
    text: "Diversity information",
    href: "diversity-disclosed" | reviewIfInProgress(record.diversity, 'diversity'),
    id: "diversity",
    tag: {
      classes: record.diversity | getStatusText | getStatusClass,
      text: record.diversity | getStatusText
    }
  }]
}) if not closed }}

<h2 class="govuk-heading-m">Education</h2>
{{ appTaskList({
  classes: "govuk-!-margin-bottom-8",
  items: [
  {
    text: "GCSE",
    href: "gcse" | reviewIfInProgress(record.qualifications.gcse),
    id: "qualification-gcse",
    tag: {
      classes: record.qualifications.gcse | getStatusText | getStatusClass,
      text: record.qualifications.gcse | getStatusText
    }
  },
  {
    text: "Degree",
    href: "degree/confirm" if (record.qualifications.degree | length) else "degree/add",
    id: "qualification-degree",
    tag: {
      classes: (record.qualifications.degreeStatus.status or (record.qualifications.degree | getStatusText)) | getStatusClass,
      text: record.qualifications.degreeStatus.status or (record.qualifications.degree | getStatusText)
    }
  }]
}) if not closed }}

    {#   classes: record.qualifications.degreeStatus | getStatusText | getStatusClass,
      text: record.qualifications.degreeStatus | getStatusText #}
{{ record | log}}
{{record.qualifications | log}}

<h2 class="govuk-heading-m">Assessment</h2>
{{ appTaskList({
  classes: "govuk-!-margin-bottom-8",
  items: [
  {
    text: "Assessment details",
    href: "assessment-details" | reviewIfInProgress(record.qualifications.assessmentDetails),
    id: "assessment-details",
    tag: {
      classes: record.assessmentDetails | getStatusText | getStatusClass,
      text: record.assessmentDetails | getStatusText
    }
  }]
}) if not closed }}


{{ govukButton({
  text: "Check and submit for TRN",
  href: "check-record"
}) }}

<p class="govuk-body"><a href="./save-as-draft" class="govuk-link">Save as draft</a></p>

{% endblock %}

