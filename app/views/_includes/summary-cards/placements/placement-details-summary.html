{% set placements = record.placement.items %}

{% set placementLocationRows = [] %}



{% for placement in placements %}

  {% set placementLocationRows = placementLocationRows | push(
    {
      key: {
        text: "Placement " + loop.index
      },
      value: {
        text: placement.location or 'Not provided'
      }
    }
  ) %}

{% endfor %}

{% set placementDetailsHtml %}
  {{ govukSummaryList({
      rows: placementLocationRows
  }) }}
{% endset %}

{{ appSummaryCard({
  classes: "govuk-!-margin-bottom-6",
  titleText: 'Placement details',
  actions: {
    items: [{
      href: recordPath + "/placements/" + placement.id + "/confirm" | addReferrer(referrer),
      text: "View placements"
    }]
  } if canAmend,
  html: placementDetailsHtml
}) }}

<div class="govuk-form-group">
  {{ govukButton({
    "text": "Add another placement" if placementCount > 0 else "Add a placement",
    href: recordPath + '/placements/add' | addReferrer(referrer),
    classes: "govuk-button--secondary govuk-!-margin-bottom-0"
  }) }}
</div>
