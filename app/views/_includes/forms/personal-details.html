<h1 class="govuk-heading-l">{{pageHeading}}</h1>

{{ govukInput({
  label: {
    text: "First names",
    classes: "govuk-label--s"
  },
  hint: {
    text: "Or given names"
  },
  id: "first-names",
  name: "record[personalDetails][givenName]",
  value: record.personalDetails["givenName"]
}) }}

{{ govukInput({
  label: {
    text: "Middle names",
    classes: "govuk-label--s"
  },
  id: "middle-name",
  name: "record[personalDetails][middleNames]",
  value: record.personalDetails['middleNames']
}) }}

{{ govukInput({
  label: {
    text: "Last name",
    classes: "govuk-label--s"
  },
  hint: {
    text: "Or family name"
  },
  id: "last-name",
  name: "record[personalDetails][familyName]",
  value: record.personalDetails['familyName']
}) }}

{{ govukDateInput({
  id: "date-of-birth",
  namePrefix: "record[personalDetails][dateOfBirth]",
  fieldset: {
    legend: {
      text: "Date of birth",
      classes: "govuk-fieldset__legend--s"
    }
  },
  hint: {
    text: "For example, 31 3 1980"
  },
  items: [
      {
        name: "day",
        classes: "govuk-input--width-2",
        value: record.personalDetails.dateOfBirth["0"]
      },
      {
        name: "month",
        classes: "govuk-input--width-2",
        value: record.personalDetails.dateOfBirth["1"]
      },
      {
        name: "year",
        classes: "govuk-input--width-4",
        value: record.personalDetails.dateOfBirth["2"]
      }
    ]
}) }}

{{ govukRadios({
  idPrefix: "gender",
  name: "record[personalDetails][sex]",
  fieldset: {
    legend: {
      text: "Gender",
      classes: "govuk-fieldset__legend--s"
    }
  },
  items: [
    {
      value: "Male",
      text: "Male",
      checked: checked(record.personalDetails.sex, "Male")
    },
    {
      value: "Female",
      text: "Female",
      checked: checked(record.personalDetails.sex, "Female")
    },
    {
      value: "Other",
      text: "Other",
      checked: checked(record.personalDetails.sex, "Other")
    }
  ]
}) }}

{% set nationalityOtherHtml %}
  {% set nationalityOther = record.personalDetails.nationality | removeArrayItem('Other') %}
  {% set nationalityOther = nationalityOther | removeArrayItem('British') %}
  {% set nationalityOther = nationalityOther | removeArrayItem('Irish') %}

  {{ govukInput({
    label: {
      text: "Nationality",
      classes: "govuk-label--s"
    },
    id: "nationality-other",
    name: "record[personalDetails][nationality][3]",
    value: nationalityOther
  }) }}

  <div class="govuk-form-group">
    {{ govukButton({
      text: "Add another nationality",
      classes: "govuk-button--secondary govuk-!-margin-bottom-1",
      href: "#"
    }) }}
  </div>

{% endset %}

{{ govukCheckboxes({
  idPrefix: "nationality",
  name: "record[personalDetails][nationality]",
  fieldset: {
    legend: {
      text: "Nationality",
      classes: "govuk-fieldset__legend--s"
    }
  },
  hint: {
    text: ""
  },
  items: [
    {
      value: "British",
      text: "British",
      checked: checked(record.personalDetails.nationality, "British")
    },
    {
      value: "Irish",
      text: "Irish",
      checked: checked(record.personalDetails.nationality, "Irish")
    },
    {
      value: "Other",
      text: "Other",
      checked: checked(record.personalDetails.nationality, "Other"),
      conditional: {
        html: nationalityOtherHtml
      }
    }
  ]
}) }}

{{ govukButton({
  text: "Continue"
}) }}
