{# <h1 class="govuk-heading-l">{{pageHeading}}</h1> #}

{% set providerCourses = data.courses["University of Southampton"].courses | limitTo(8) %}

{% if record.programmeDetails.isPublishCourse | falsify %}
  {% set selectedCourse = record.programmeDetails.id %}
{% elseif record.programmeDetails %}
  {# Todo: stop storing route in two places #}
  {% set selectedCourse = record.programmeDetails.route or record.route %}
{% else %}
  {% set selectedCourse = record.route %}
{% endif %}

{% set courseItems = [] %}

{% for course in providerCourses %}
  {% set courseItems = courseItems | push({
    text: course.subject + " (" + course.code + ")",
    value: course.id,
    checked: checked(selectedCourse, course.id),
    hint: {
      text: course.summary
    }
  }) %}
{% endfor %}

{% set courseItems = courseItems | push({divider: 'or'}) %}

{% for route in data.settings.enabledTrainingRoutes %}
  
  {% set courseItems = courseItems | push({
    value: route,
    text: route | lower | prependWithAOrAn | sentenceCase + " course",
    checked: checked(selectedCourse, route)
  }) %}
{% endfor %}
{% set courseItems = courseItems | push({text: "Other"}) %}

{{ govukRadios({
  fieldset: {
    legend: {
      text: pageHeading,
      isPageHeading: true,
      classes: "govuk-fieldset__legend--l"
    }
  },
  items: courseItems
} | decorateAttributes(record, "record.selectedCourseTemp")) }}

{{ govukButton({
  text: "Continue"
}) }}
