<h1 class="govuk-heading-l">{{pageHeading}}</h1>

{{ govukRadios({
  fieldset: {
    legend: {
      text: "What do you want to do?",
      classes: "govuk-fieldset__legend--s"
    }
  },
  hint: {
    text: ""
  },
  items: [
    {
      value: "Register for TRN",
      text: "Register trainees for TRN"
    },
    {
      value: "Recommend for QTS",
      text: "Recommend trainees for QTS"
    }
  ]
} | decorateAttributes(data, "data.bulk.action")) }}

{% set enabledTrainingRoutes = data.settings.enabledTrainingRoutes %}

{# Only show route filter if there's more than 1 route #}
{% if enabledTrainingRoutes | length > 1 %}

  {% set routeItems = [] %}
  {% for route in enabledTrainingRoutes %}
    {% set routeItems = routeItems | push({
      text: route,
      checked: checked(query.filterTrainingRoutes, route)
    }) %}
  {% endfor %}
  {{ govukCheckboxes({
    fieldset: {
      legend: {
        text: "Routes",
        classes: "govuk-fieldset__legend--s"
      }
    },
    hint: {
      text: ""
    },
    items: routeItems
  } | decorateAttributes(data, "data.filterTrainingRoutes")) }}
  
{% endif %}

{% set subjectItems = [] %}

{# Default state - first value is 'all' #}
{% set subjectItems = subjectItems | push({
  value: "All subjects",
  text: "All subjects",
  selected: true if (not query.filterSubject or query.filterSubject ==  "All subjects")
}) %}

{# Remaining subjects #}
{% for subject in data.ittSubjects %}
  {% set subjectItems = subjectItems | push({
    value: subject,
    text: subject,
    selected: true if (subject == query.filterSubject)
  }) %}
{% endfor %}

{{ govukSelect({
  id: "subject-select",
  name: "filterSubject",
  label: {
    text: "Subject",
    classes: "govuk-label--s"
  },
  items: subjectItems
}) }}

{{ govukButton({
  text: "Continue"
}) }}
