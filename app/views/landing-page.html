{% extends "layout.html" %}

{% block content %}

    <h1 class="govuk-heading-l">{{serviceName}}</h1>
    <p class="govuk-body">Collecting and managing trainee teacher registration data.</p>
    {{ govukButton({
      text: "Add a trainee",
      href: "./new-record/new",
      isStartButton: true
    }) }}

    <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

    <div class="govuk-grid-row">

      <div class="govuk-grid-column-one-third">
        <h2 class="govuk-heading-m"><a href="/records" class="govuk-link">View trainee records</a></h2>
        <p class="govuk-body">All the trainee teachers in your organisation.</p>
      </div>
      <div class="govuk-grid-column-one-third">
        <h2 class="govuk-heading-m"><a href="#" class="govuk-link">Guidance</a></h2>
        <p class="govuk-body">Service guidance and route specific data requirements.</p>
      </div>
      <div class="govuk-grid-column-one-third">
        <h2 class="govuk-heading-m"><a href="#" class="govuk-link">Notifications</a></h2>
        <p class="govuk-body">Things to action and other stuff.</p>
      </div>

    </div>

    <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

    <h2 class="govuk-heading-m">Trainee status overview</h2>
    
    <div class="govuk-grid-row govuk-!-margin-bottom-6">

      <div class="govuk-grid-column-one-half">
        <div class="status-card status-card--pending-trn">
          {% set pendingTrnRecordCount = data.records | where("status", "Pending TRN") | length %}
          <span class="status-card__count">{{pendingTrnRecordCount}}</span>
          pending TRN
        </div>
      </div>
      <div class="govuk-grid-column-one-half">
        <div class="status-card status-card--trn-received">
          {% set trnReceivedRecordCount = data.records | where("status", "TRN received") | length %}
          <span class="status-card__count">{{trnReceivedRecordCount}}</span>
          TRN receieved
        </div>
      </div>

    </div>

    <div class="govuk-grid-row govuk-!-margin-bottom-6">
        
      <div class="govuk-grid-column-one-third">
        <div class="status-card status-card--draft">
          {# {% set draftRecordsCount = data.records | where("status", "Draft") %} #}
          {% set draftRecordCount = data.records | where("status", "Draft") | length %}
          <span class="status-card__count">{{draftRecordCount}}</span>
          draft records
        </div>
      </div>
      <div class="govuk-grid-column-one-third">
        <div class="status-card status-card--deferred">
          {% set deferredRecordCount = data.records | where("status", "Deferred") | length %}
          <span class="status-card__count">{{deferredRecordCount}}</span>
          deferred
        </div>
      </div>
      <div class="govuk-grid-column-one-third">
        <div class="status-card status-card--withdrawn">
          {% set withdrawnRecordCount = data.records | where("status", "withdrawn") | length %}
          <span class="status-card__count">{{withdrawnRecordCount}}</span>
          withdrawn
        </div>
      </div>

    </div>

  </div>

</div>

{% endblock %}